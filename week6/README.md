# 6주차 자료 — 백트래킹(순열·조합 / N-Queens / 부분집합)

> 주제  
> 
> -   백트래킹 (Backtracking)  
> -   순열과 조합 생성  
> -   N-Queens 문제  
> -   부분집합 생성  
>
> 목표  
> -   **백트래킹의 개념과 탐색 전략**을 이해한다.  
> -   순열, 조합, 부분집합을 생성하는 기본 패턴을 학습한다.  
> -   N-Queens, 스도쿠와 같은 대표 문제를 통해 백트래킹 활용 능력을 키운다.  
> -   백준 문제 풀이로 실전 감각을 강화한다. 

---

## 1. 알고리즘 유형 한눈에 보기

| 유형 | 아이디어 | 장점 | 단점 |
| ---- | -------- | ---- | ---- |
| **백트래킹** | 가능한 모든 해를 탐색하되, 조건에 맞지 않으면 탐색을 중단 (가지치기) | 불필요한 탐색 줄여 효율적 | 최악의 경우 지수적 복잡도 |
| **순열/조합** | 원소들을 나열(순열)하거나 선택(조합)하는 모든 경우 탐색 | 경우의 수를 명확히 다룸 | 입력 크기 커지면 경우의 수 급증 |
| **부분집합** | 각 원소를 포함/불포함으로 결정하여 모든 집합 생성 | 구현 간단 | 원소 n개면 2^n 경우 발생 |
| **N-Queens** | 체스판 위에 n개의 퀸을 서로 공격하지 않게 배치 | 대표적인 백트래킹 문제 | 탐색 공간 크지만 가지치기로 해결 가능 |

---

## 2. 필수 문제 (백준)

- **순열/조합 기초**: [15649](https://www.acmicpc.net/problem/15649), [15650](https://www.acmicpc.net/problem/15650), [15651](https://www.acmicpc.net/problem/15651), [15652](https://www.acmicpc.net/problem/15652)  
- **N-Queens**: [9663](https://www.acmicpc.net/problem/9663)  
- **스도쿠**: [2580](https://www.acmicpc.net/problem/2580)  
- **연산자 끼워넣기**: [14888](https://www.acmicpc.net/problem/14888)  
- **스타트와 링크**: [14889](https://www.acmicpc.net/problem/14889)  

---

## 3. 자주 발생하는 실수 체크리스트

- [] 방문 여부(`visited`) 배열 초기화를 매 재귀 호출마다 잘못 처리하는 경우  
- [] 순열/조합 구현 시 **중복 허용 여부**를 문제 조건과 다르게 적용하는 경우  
- [] N-Queens에서 **대각선 판정** 누락 → `abs(row1-row2) == abs(col1-col2)` 조건 확인 필수  
- [] 부분집합 생성 시 공집합 출력 누락  
- [] 출력 형식을 문제 조건과 다르게 작성  

---

## 4. 시간복잡도 요약

| 유형       | 알고리즘/연산     | 시간         |
| ---------- | --------------- | ------------ |
| 순열 생성   | n! 경우 탐색      | O(n!)        |
| 조합 생성   | nCr 경우 탐색     | O(2^n)       |
| 부분집합    | 2^n 경우 탐색     | O(2^n)       |
| N-Queens  | 백트래킹 탐색     | O(n!) (가지치기로 평균 더 빠름) |

---

## 5. 연습 루틴

- Day1: 기본적인 순열/조합 코드 직접 구현 (itertools 사용 X)  
- Day2: 부분집합 생성 (재귀/비트마스킹 두 방식 모두 연습)  
- Day3: N-Queens 작은 n (n=4,5)로 먼저 실습 후 n=8까지 확장  
- Day4: 스도쿠(2580) 풀면서 가지치기 설계 연습  
- Day5: 연산자 끼워넣기(14888), 스타트와 링크(14889)로 응용 문제 해결  

---

## 6. 미니 퀴즈

<details>
<summary>1. 부분집합의 개수가 2^n이 되는 이유를 설명하라.</summary>
<br>
주어진 집합의 각 원소는 부분집합에 포함되거나 포함되지 않는 2가지 선택지를 갖습니다. 예를 들어, 집합 A = {a, b, c}가 있다면, 원소 'a'는 부분집합에 속하거나 속하지 않거나의 2가지 경우의 수가 있습니다. 마찬가지로 원소 'b'와 'c'도 각각 2가지 경우의 수를 가집니다. 따라서, n개의 원소에 대해 각각 2가지 선택지가 있으므로, 전체 경우의 수는 2 × 2 × ... × 2 (n번) = 2 
n
  이 됩니다.
</details>
<br>

<details>
<summary>2. N-Queens 문제에서 같은 열에 두 퀸이 존재할 수 없는 이유는?</summary>
N-Queens 문제의 정의에 따라 퀸들은 서로 공격할 수 없는 위치에 놓여야 합니다. 퀸은 같은 행, 같은 열, 그리고 대각선 방향에 있는 말을 공격할 수 있습니다. 따라서 두 퀸이 같은 열에 놓이게 되면 서로 공격이 가능해지므로, 문제의 조건을 만족하지 못하게 됩니다.
</details>
<br>

<details>
<summary>3. 백트래킹과 브루트포스의 차이점은 무엇인가?</summary>
<br>
**브루트포스(Brute Force)**는 모든 가능한 경우의 수를 하나하나 시도하여 해를 찾는 알고리즘입니다. 반면, **백트래킹(Backtracking)**은 해를 찾아가는 과정에서 조건을 만족하지 않는 경로를 발견하면 더 이상 탐색하지 않고 이전 단계로 되돌아가는 **가지치기(Pruning)**를 적용하여 비효율적인 경로를 탐색하지 않습니다. 따라서 백트래킹은 브루트포스보다 훨씬 효율적입니다.
</details>
<br>

<details>
<summary>4. 순열과 조합의 차이를 간단히 정의하라.</summary>
<br>
**순열(Permutation)**은 서로 다른 n개의 원소에서 r개를 선택하여 순서를 고려하여 나열하는 경우의 수를 말합니다. 반면, **조합(Combination)**은 서로 다른 n개의 원소에서 r개를 순서에 상관없이 선택하는 경우의 수를 의미합니다. 간단히 말해, 순열은 '나열', 조합은 '선택'이 핵심입니다.
</details>
<br>

<details>
<summary>5. 스도쿠 문제를 풀 때 가지치기가 효과적인 이유는 무엇인가?</summary>
<br>
스도쿠는 9×9 격자판에 숫자를 채워 넣는 문제입니다. 한 칸에 숫자를 채워 넣은 후, 다음 칸에 들어갈 수 있는 숫자는 이미 채워진 숫자들과 같은 행, 열, 3x3 박스에 있는 숫자를 제외해야 합니다. 만약 어떤 칸에 들어갈 수 있는 숫자가 없다면, 이전 칸으로 돌아가 다른 숫자를 시도해야 합니다. 이처럼 조건을 만족하지 않는 경우를 발견하면 즉시 되돌아가는 가지치기를 통해 모든 경우의 수를 탐색하지 않고 효율적으로 해를 찾을 수 있기 때문에 백트래킹이 매우 효과적입니다.
</details>
<br>

---
